<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>尚品汇</title>
    <link rel="icon" href="images/favicon.ico">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/index.css">
</head>

<body>
    <!-- 布局容器     -->
    <div class="wrap">
        <!-- 头部的总共 -->
        <header class="herder">
            <!-- 灰色栏通栏 -->
            <div class="top">
                <!-- 灰色栏内容容器   版心-->
                <div class="topMain">
                    <!-- 左边请登录容器 -->
                    <div class="left">
                        <h5>欢迎来到尚品汇！&nbsp;&nbsp;&nbsp;请</h5>
                        <p>
                            <a href="##">登录</a>
                            <a href="##">注册</a>
                        </p>
                    </div>
                    <!-- 右边导航容器 -->
                    <div class="right">
                        <a href="##">我的订单</a>
                        <a href="##">我的尚品汇</a>
                        <a href="##">我的购物车</a>
                        <a href="##">尚品汇会员</a>
                        <a href="##">企业采购</a>
                        <a href="##">关注尚品汇</a>
                        <a href="##">合作招商</a>
                        <a href="##">商家后台</a>
                    </div>

                </div>

            </div>
            <!-- log+搜索框的容器 -->
            <div class="bottom">
                <div class="bottomMain">
                    <!-- log -->
                    <h1>
                        <a href="##">
                            <img src="images/Logo.png" alt="">
                        </a>
                    </h1>
                    <!-- 搜索框加搜索按钮 -->
                    <div class="search">
                        <input type="text">
                        <button>搜索</button>
                    </div>
                </div>
            </div>
        </header>
        <!-- 商品分类容器 -->
        <div class="typeNav">
            <!-- 商品分类导航 -->
            <div class="typeNavMain">
                <h3>全部商品分类</h3>
                <div>
                    <a href="##">服装城</a>
                    <a href="##">美妆馆</a>
                    <a href="##">尚品汇超市</a>
                    <a href="##">全球购</a>
                    <a href="##">闪购</a>
                    <a href="##">团购</a>
                    <a href="##">有趣</a>
                    <a href="##">秒杀</a>
                </div>
            </div>
        </div>
        <!-- 商品内容容器 -->
        <div class="main">
            <!-- 路径导航容器  版心-->
            <div class="mainOn">
                <!-- 路径导航内容 -->
                <div class="onPoin">
                    <!-- <a href="##">手机、数码、通讯</a>
                    <i>/</i>
                    <a href="##">手机</a>
                    <i>/</i>
                    <a href="##">Apple苹果</a>
                    <i>/</i>
                    <a>iphone 6S系类</a> -->

                </div>
                <!-- 商品展示区域容器 -->
                <div class="infoWrap">
                    <!-- 放大境容器 里面包括放大境和放大境下的缩略图 -->
                    <div class="previwWrap">
                        <!-- 放大境内容区 -->
                        <div class="previw">
                            <!--小图容器  -->
                            <div class="smallImg">
                                <!-- <img src="images/s1.png" alt="" srcset=""> -->
                            </div>
                            <!-- 蒙版 -->
                            <!-- 大图容器 -->
                        </div>
                        <!-- 缩略图容器 -->
                        <div class="thumbanail">
                            <a href="##" class="prev">&lt;</a>
                            <!-- 缩略图内容部分 -->
                            <div class="itemWrap">
                                <ul class="list">
                                    <!-- <li><img src="./images/s1.png" alt=""></li>
                                    <li><img src="./images/s2.png" alt=""></li>
                                    <li><img src="./images/s3.png" alt=""></li>
                                    <li><img src="./images/s1.png" alt=""></li>
                                    <li><img src="./images/s2.png" alt=""></li>
                                    <li><img src="./images/s3.png" alt=""></li>
                                    <li><img src="./images/s1.png" alt=""></li>
                                    <li><img src="./images/s2.png" alt=""></li>
                                    <li><img src="./images/s3.png" alt=""></li>
                                    <li><img src="./images/s1.png" alt=""></li>
                                    <li><img src="./images/s2.png" alt=""></li>
                                    <li><img src="./images/s3.png" alt=""></li> -->
                                </ul>
                            </div>
                            <a href="##" class="next">&gt;</a>
                        </div>

                    </div>
                    <!-- 详情区域 -->
                    <div class="info">
                        <!-- 详情上部分 -->
                        <div class="infoTop">
                            <!-- <h3>Apple iPhone 6s（A1700）64G玫瑰金色 移动通信电信4G手机</h3> -->
                            <!-- <p class="ones">推荐选择下方[移动优惠购],手机套餐齐搞定,不用换号,每月还有花费返</p> -->
                            <!-- 价钱部分 -->
                            <!-- <div class="infoContent"> -->
                            <!-- 价格 -->
                            <!-- <div class="top">
                                    <p class="one">价&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;格</p>
                                    <p class="two">
                                        <i>¥</i>
                                        <em>5299</em>
                                        <span>降价通知</span>
                                    </p> -->
                            <!-- <p class="three">
                                        <i>累计评价</i>
                                        <span>1234</span>
                                    </p>
                                </div>
                                <div class="bottom">
                                    <p class="one">促&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;销</p>
                                    <div>
                                        <i>加价购</i><span>满999.00另加20.00元，或满1999.00另加30.00元，或满2999.00另加40.00元，即可在购物车换购热销商品</span>
                                    </div>
                                </div>

                            </div>
                            <div class="down">
                                <div>
                                    <p class="one">支&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;持</p>
                                    <p class="two">以旧换新，闲置手机回收 4G套餐超值抢 礼品购</p>
                                </div>
                                <div>
                                    <p class="one">配&nbsp;送&nbsp;至</p>
                                    <p class="two">广东省 深圳市 宝安区</p>
                                </div>
                            </div>  -->
                        </div>
                        <div class="choose">
                            <div class="choosed">
                                <!-- <mark>银色<a href="javascript">X</a></mark> -->
                            </div>
                            <div class="chooseOne">
                                <!-- <dl>
                                    <dt>选择颜色</dt>
                                    <dd>金色</dd>
                                    <dd>银色</dd>
                                    <dd>黑色</dd>
                                </dl>
                                <dl>
                                    <dt>内存容量</dt>
                                    <dd>16G</dd>
                                    <dd>64G</dd>
                                    <dd>128G</dd>
                                    <dd>512G</dd>
                                </dl>
                                <dl>
                                    <dt>选择版本</dt>
                                    <dd>公开版</dd>
                                    <dd>移动版</dd>
                                </dl>
                                <dl>
                                    <dt>购买方式</dt>
                                    <dd>官方标配</dd>
                                    <dd>优惠移动版</dd>
                                    <dd>电信优惠版</dd>
                                </dl> -->
                            </div>
                            <div class="carWrap">
                                <div class="control">
                                    <input type="text" value="1">
                                    <a href="javascript:;" class="plus">+</a>
                                    <a href="javascript:;" class="minus">-</a>
                                </div>
                                <button class="bt">加入购物车</button>
                            </div>

                        </div>
                    </div>

                </div>

            </div>



        </div>
        <!--中下内容部分  -->
        <div class="detailWrap">
            <!-- 侧边栏 -->
            <aside>
                <div class="tabWrap">
                    <h4 class="active">相关分类</h4>
                    <h4>推荐品牌</h4>
                </div>
                <div class="tabContent">
                    <div class="active">
                        <ul class="partList">
                            <li><a href="##">手机</a></li>
                            <li><a href="##">手机壳</a></li>
                            <li><a href="##">内存卡</a></li>
                            <li><a href="##">iphone配件</a></li>
                            <li><a href="##">贴膜</a></li>
                            <li><a href="##">手机耳机</a></li>
                            <li><a href="##">移动电源</a></li>
                            <li><a href="##">平安电脑</a></li>
                        </ul>
                        <ul class="goodsList">
                            <li>
                                <div class="bImg">
                                    <img src="./images/part01.png" alt="">
                                </div>
                                <p class="partName">Apple苹果iPhone 6s (A1699)</p>
                                <p class="price">¥6088.00</p>
                                <div class="gouWuChe">
                                    <a href="##">加入购物车</a>
                                </div>
                            </li>
                        </ul>
                        <ul class="goodsList">
                            <li>
                                <div class="bImg">
                                    <img src="./images/part01.png" alt="">
                                </div>
                                <p class="partName">Apple苹果iPhone 6s (A1699)</p>
                                <p class="price">¥6088.00</p>
                                <div class="gouWuChe">
                                    <a href="##">加入购物车</a>
                                </div>
                            </li>
                        </ul>
                        <ul class="goodsList">
                            <li>
                                <div class="bImg">
                                    <img src="./images/part01.png" alt="">
                                </div>
                                <p class="partName">Apple苹果iPhone 6s (A1699)</p>
                                <p class="price">¥6088.00</p>
                                <div class="gouWuChe">
                                    <a href="##">加入购物车</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div>哈哈</div>
                </div>
            </aside>
            <!-- 详情-->
            <div class="detail">
                <!-- 选择搭配 -->
                <div class="fitting">
                    <h4>选择搭配</h4>
                    <div class="goodSuits">
                        <div class="master">
                            <img src="./images/l-m01.png" alt="">
                            <p>¥5299</p>
                            <i>+</i>
                        </div>
                        <ul class="suits">
                            <li>
                                <img src="images/dp01.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <label>
                                    <input type="checkbox" value="50">
                                    <i>50</i>
                                </label>
                            </li>
                            <li>
                                <img src="images/dp02.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <label>
                                    <input type="checkbox" value="50">
                                    <i>50</i>
                                </label>
                            </li>
                            <li>
                                <img src="images/dp03.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <label>
                                    <input type="checkbox" value="50">
                                    <i>50</i>
                                </label>
                            </li>
                            <li>
                                <img src="images/dp04.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <label>
                                    <input type="checkbox" value="50">
                                    <i>50</i>
                                </label>
                            </li>
                        </ul>
                        <div class="result">
                            <div>已购0件商品</div>
                            <h5>套餐价</h5>
                            <p>¥5299</p>
                            <button>加入购物车</button>
                        </div>
                    </div>
                </div>

            </div>

        </div>

    </div>
    <script src="js/data.js"></script>
    <script>
        window.onload = function () {
            // 点击缩略图后,存一个大图的数据
            var one = 0;
            // 路径导航
            onPoin();
            function onPoin() {
                var onPoinNode = document.querySelector('.wrap .main .mainOn .onPoin');
                var pathData = goodData.path;
                for (var i = 0; i < pathData.length; i++) {
                    var aNode = document.createElement('a');
                    if (i == pathData.length - 1) {
                        aNode.innerHTML = pathData[i].title;
                        onPoinNode.appendChild(aNode);

                    } else {
                        aNode.innerHTML = pathData[i].title;
                        aNode.href = pathData[i].url;
                        onPoinNode.appendChild(aNode);
                        var iNode = document.createElement('i')
                        iNode.innerHTML = '/';
                        onPoinNode.appendChild(iNode);

                    }
                }
            }
            // 放大境
            previw();
            function previw() {
                var previwNode = document.querySelector('.wrap .main .mainOn .infoWrap .previwWrap .previw');
                var smallImgNode = document.querySelector('.wrap .main .mainOn .infoWrap .previwWrap .previw .smallImg');

                var imgSrc = goodData.imagessrc;
                var twoImg = document.createElement('img')
                twoImg.src = imgSrc[0].s;
                smallImgNode.appendChild(twoImg);
                // 鼠标移入previwNode

                previwNode.onmouseenter = function () {
                    // 创建蒙版
                    var mengBanNode = document.createElement('div');
                    mengBanNode.className = 'mengBan'
                    smallImgNode.appendChild(mengBanNode);
                    // 创建大图容器
                    var daTUNode = document.createElement('div');
                    // 给大图添加属性名
                    daTUNode.className = 'daTu';
                    var bigImg = new Image();
                    bigImg.src = imgSrc[one].b;
                    daTUNode.appendChild(bigImg);
                    previwNode.appendChild(daTUNode);




                    //   移动事件
                    smallImgNode.onmousemove = function (event) {
                        // 当前鼠标坐标是相对于视口   而盒子的坐标是相对于父级包含块的位置，求盒子的位置
                        // 鼠标的坐标-父元素距离是口的位置-蒙版高宽的一半
                        var zuoBiao = {
                            left: event.clientX - previwNode.getBoundingClientRect().left - mengBanNode.offsetWidth / 2,
                            top: event.clientY - previwNode.getBoundingClientRect().top - mengBanNode.offsetHeight / 2,
                        }
                        // 判断边界值
                        if (zuoBiao.left < 0) {
                            zuoBiao = 0;
                        } else if (zuoBiao.left > previwNode.clientWidth - mengBanNode.offsetWidth) {
                            zuoBiao.left = previwNode.clientWidth - mengBanNode.offsetWidth;
                        }
                        if (zuoBiao.top < 0) {
                            zuoBiao.top = 0;
                        } else if (zuoBiao.top > previwNode.clientHeight - mengBanNode.offsetHeight) {
                            zuoBiao.top = previwNode.clientHeight - mengBanNode.offsetHeight;
                        }
                        // 赋值
                        mengBanNode.style.left = zuoBiao.left + 'px';
                        mengBanNode.style.top = zuoBiao.top + 'px';

                        // 大图移动事件
                        // 移动的比例
                        var biNode = (previwNode.clientWidth - mengBanNode.offsetWidth) / (bigImg.offsetWidth - daTUNode.clientWidth)
                        var daTuZuoBiao = {
                            left: zuoBiao.left / biNode,
                            top: zuoBiao.top / biNode,
                        }
                        bigImg.style.marginLeft = -daTuZuoBiao.left + 'px';
                        bigImg.style.marginTop = -daTuZuoBiao.top + 'px';

                    }
                    // 鼠标移除事件
                    previwNode.onmouseleave = function () {
                        smallImgNode.removeChild(mengBanNode);
                        previwNode.removeChild(daTUNode);
                        smallImgNode.onmousemove = previwNode.onmouseleave = null;


                    }

                }

            }
            // 缩略图
            thumbnail();
            function thumbnail() {
                // 获取左右按钮
                var perv = document.querySelector('.wrap .main .mainOn .infoWrap .previwWrap .thumbanail .prev');
                var next = document.querySelector('.wrap .main .mainOn .infoWrap .previwWrap .thumbanail .next');
                // 图片容器
                var list = document.querySelector('.wrap .main .mainOn .infoWrap .previwWrap .thumbanail .itemWrap .list');
                // 获取动态数据加载
                var imgSrc = goodData.imagessrc;
                // 遍历数据
                imgSrc.forEach(function (itme) {
                    var liNode = document.createElement('li');
                    var imgNode = new Image();
                    imgNode.src = itme.s;
                    liNode.appendChild(imgNode);
                    list.appendChild(liNode);
                });
                // 图片集合
                var items = document.querySelectorAll('.wrap .main .mainOn .infoWrap .previwWrap .thumbanail .itemWrap .list li');
                // 定义每次移动图片的张数
                var moveNum = 2;
                // 定义总张数
                var imgNum = items.length;
                // 计算单次移动的距离
                var moveLeft = (items[0].offsetWidth + 20) * moveNum;
                // 显示照片张数
                var imgLook = 5;
                // 一共移动的距离
                var countLeft = (imgNum - imgLook) * (items[0].offsetWidth + 20);
                // 初始化走过的距离
                var itemLeft = 0;
                // 给每个next绑定单击事件
                next.onclick = function () {
                    // 判断是不是最后一张,如果不是最后一张就可以就点击
                    if (itemLeft < countLeft) {
                        // 判断剩下的距离是不是还能继续走两张,如果能走两张就走两张,如果不能,就走剩下的
                        if (countLeft - itemLeft > moveLeft) {

                            itemLeft += moveLeft;

                        } else {
                            itemLeft = countLeft;
                        }
                        list.style.left = -itemLeft + 'px';
                    }
                }
                perv.onclick = function () {
                    // 只要itemLeft不等于0,就可以继续点击
                    if (itemLeft > 0) {

                        if (itemLeft > moveLeft) {
                            itemLeft -= moveLeft;
                        } else {
                            itemLeft = 0;
                        }
                        list.style.left = -itemLeft + 'px';
                    }
                }


            }
            // 缩略图点击
            thumbnailClick();
            function thumbnailClick() {
                var liNode = document.querySelectorAll('.wrap .main .mainOn .infoWrap .previwWrap .thumbanail .itemWrap .list li');
                var imgNode = document.querySelector('.wrap .main .mainOn .infoWrap .previwWrap .previw .smallImg img');
                var imgSrc = goodData.imagessrc;
                for (var i = 0; i < liNode.length; i++) {
                    liNode[i].index = i;
                    liNode[i].onclick = function () {
                        imgNode.src = imgSrc[this.index].s;
                        one = this.index
                    }
                }

            }
            // 商品详情筛选 动态渲染
            choose();
            function choose() {

                //创建数组
                var crumbData = goodData.goodsDetail.crumbData;
                // 获取父元素 
                var chooseOne = document.querySelector('.wrap .main .mainOn .infoWrap .info .choose .chooseOne')
                // 遍历crumbData
                crumbData.forEach(function (item) {
                    var dlNode = document.createElement('dl');
                    var dtNode = document.createElement('dt');
                    dtNode.innerHTML = item.title;
                    dlNode.appendChild(dtNode);
                    item.data.forEach(function (item) {
                        var ddNode = document.createElement('dd');
                        ddNode.innerHTML = item.type;
                        ddNode.setAttribute('changePrice', item.changePrice)
                        dlNode.appendChild(ddNode);
                    });
                    chooseOne.appendChild(dlNode);
                });
                var dlList = document.querySelectorAll('.wrap .main .mainOn .infoWrap .info .choose .chooseOne dl');
                var choosed = document.querySelector('.wrap .main .mainOn .infoWrap .info .choose .choosed');
                // 创建一个数组，相应的索引值存相应的dl中的dd
                var arr = new Array(dlList.length);
                arr.fill(0);
                for (var i = 0; i < dlList.length; i++) {
                    // 给dl添加索引
                    dlList[i].index = i;
                    (function () {
                        var ddList = dlList[i].getElementsByTagName('dd');
                        for (var j = 0; j < ddList.length; j++) {
                            ddList[j].onclick = function () {
                                for (var i = 0; i < ddList.length; i++) {
                                    ddList[i].style.color = '#666';
                                }
                                this.style.color = 'red';
                                arr[this.parentNode.index] = this;
                                jiage(arr);
                                choosed.innerHTML = '';
                                // 遍历arr数组，在mark便签中添加相对应的arr索引内容
                                arr.forEach(function (item, index) {
                                    if (item) {
                                        var mark = document.createElement('mark');
                                        mark.innerHTML = item.innerHTML;
                                        var a = document.createElement('a');
                                        a.innerHTML = 'x';
                                        a.setAttribute('num', index)
                                        mark.appendChild(a);
                                        choosed.appendChild(mark);
                                    }
                                });
                                // 删除逻辑
                                var aList = document.querySelectorAll('.wrap .main .mainOn .infoWrap .info .choose .choosed mark a');
                                // 遍历a
                                for (var i = 0; i < aList.length; i++) {
                                    //    给a添加删除单击事件
                                    aList[i].onclick = function () {
                                        //获取a的value值
                                        var num = parseInt(this.getAttribute('num'));
                                        console.log(num);
                                        //删除当前a的父元素mark便签
                                        choosed.removeChild(this.parentNode)
                                        arr[num] = 0;
                                        jiage(arr);
                                        // 获取dd
                                        var ddNode = dlList[num].getElementsByTagName('dd');
                                        for (var i = 0; i < ddNode.length; i++) {
                                            ddNode[i].style.color = '#666';
                                        }
                                        ddNode[0].style.color = 'red';
                                    }
                                }
                            }

                        }


                    })();

                }
                // 价格计算逻辑函数
                function jiage(arr) {
                    var price = goodData.goodsDetail.price;
                    var priceEnd = document.querySelector('.wrap .main .mainOn .infoWrap .info .infoTop .infoContent .top .two em')
                    console.log(arr);

                    arr.forEach(function (item) {
                        console.log(item);
                        if (item) {

                            price += parseInt(item.getAttribute('changePrice'));
                        }
                    });
                    console.log(price);
                    priceEnd.innerHTML = price;

                    //价钱联动
                    var priceNode = document.querySelector('.wrap .detailWrap .detail .fitting .goodSuits .master p');
                    var inputNode = document.querySelectorAll('.wrap .detailWrap .detail .fitting .goodSuits .suits li label input')
                    var price_end = document.querySelector('.wrap .detailWrap .detail .fitting .goodSuits .result > p')
                    priceNode.innerHTML = '¥' + price;
                    inputNode.forEach(function (item) {
                        if (item.checked) {
                            price += parseInt(item.value);
                        }
                       
                    });
                    //  for (var i = 0; i < inputNode.length; i++) {
                    //     if (inputNode[i].checked) {
                    //         price += parseInt(inputNode[i].value);
                    //     }
                    // }
                    price_end.innerHTML = '¥'+price;
                }
            }
            // 价钱部分动态渲染
            ifoData();
            function ifoData() {
                var infoTop = document.querySelector('.wrap .main .mainOn .infoWrap .info .infoTop')
                var goodsDetail = goodData.goodsDetail;
                var str = `  <h3>${goodsDetail.title}</h3>
                            <p class="ones">${goodsDetail.recommend}</p>
                            <!-- 价钱部分 -->
                            <div class="infoContent">
                                <!-- 价格 -->
                                <div class="top">
                                    <p class="one">价&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;格</p>
                                    <p class="two">
                                        <i>¥</i>
                                        <em>${goodsDetail.price}</em>
                                        <span>降价通知</span>
                                    </p>
                                    <p class="three">
                                        <i>累计评价</i>
                                        <span>1234</span>
                                    </p>
                                </div>
                                <div class="bottom">
                                    <p class="one">促&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;销</p>
                                    <div>
                                        <i>${goodsDetail.promoteSales.type}</i><span>${goodsDetail.promoteSales.content}</span>
                                    </div>
                                </div>

                            </div>
                            <div class="down">
                                <div>
                                    <p class="one">支&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;持</p>
                                    <p class="two">${goodsDetail.support}</p>
                                </div>
                                <div>
                                    <p class="one">配&nbsp;送&nbsp;至</p>
                                    <p class="two">${goodsDetail.address}</p>
                                </div>
                            </div>`;
                infoTop.innerHTML = str;
            }

            // Tab切换侧边栏
            function Tab(btn, btnContent) {
                this.btn = btn;
                this.btnContent = btnContent;
                var _this = this;
                // 遍历btn
                for (var i = 0; i < this.btn.length; i++) {
                    this.btn[i].index = i;
                    //    给每个btn绑定单击事件
                    this.btn[i].onclick = function () {
                        _this.topFun(this);
                    }
                }
            }
            //给构造函数显示原型上添加一个方法
            Tab.prototype.topFun = function (bt) {

                for (var i = 0; i < this.btnContent.length; i++) {
                    this.btnContent[i].className = '';
                    this.btn[i].className = '';
                }
                this.btnContent[bt.index].className = 'active';
                bt.className = 'active';
            }
            btTab();
            function btTab() {
                // 按钮集合
                var btn = document.querySelectorAll('.wrap .detailWrap aside .tabWrap h4')
                // 内容区域集合
                var btnContent = document.querySelectorAll('.wrap .detailWrap aside .tabContent > div')
                var tabOne = new Tab(btn, btnContent);
            }
            // 选择搭配区的价钱计算
            xuaZePrice();
            function xuaZePrice() {
                var input = document.querySelectorAll('.wrap .detailWrap .detail .fitting .goodSuits .suits li label input');
                var priceNode = document.querySelector('.wrap .detailWrap .detail .fitting .goodSuits .master p');
                var price_end = document.querySelector('.wrap .detailWrap .detail .fitting .goodSuits .result > p');
                for (var i = 0; i < input.length; i++) {
                    input[i].onclick = function () {
                        var price = parseInt(priceNode.innerHTML.substr(1));
                        for (var i = 0; i < input.length; i++) {
                            if (input[i].checked) {
                                price += parseInt(input[i].value);
                                console.log(price);
                            }
                        }
                        price_end.innerHTML = price;

                    }
                }
            }
        }
    </script>

</body>

</html>